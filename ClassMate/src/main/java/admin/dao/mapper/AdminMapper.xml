<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="admin.dao.face.AdminDao">
  
    <select id="userInfoCntAll" parameterType="int">
  	SELECT count(*) FROM user_info
  	</select>
  	
  	<select id="selectUserAll" resultType="UserInfo" parameterType="Map">
  		SELECT * FROM (
    		SELECT rownum rnum, B.* FROM(
      			SELECT
				user_no, user_id, user_pw, user_gender, user_birthday, user_phone
				, user_name, user_email, main_address, sub_address, user_post, user_secession, user_date_created
		        FROM user_info
		        WHERE user_no > 0
		        	AND user_secession = 0
		        ORDER BY ${orderBy}
   			)B
		)WHERE rnum BETWEEN #{paging.startNo} AND #{paging.endNo}
  	</select>
  	
  	<select id="selectDelUserAll" resultType="UserInfo" parameterType="Map">
  		SELECT * FROM (
    		SELECT rownum rnum, B.* FROM(
      			SELECT
				user_no, user_id, user_pw, user_gender, user_birthday, user_phone
				, user_name, user_email, main_address, sub_address, user_post, user_secession, user_date_created
		        FROM user_info
		        WHERE user_no > 0
		        	AND user_secession = 1
		        ORDER BY ${orderBy}
   			)B
		)WHERE rnum BETWEEN #{paging.startNo} AND #{paging.endNo}
  	</select>
  	
  </mapper>